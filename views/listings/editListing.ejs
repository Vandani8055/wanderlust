<% layout('/layouts/boilerplate') %>

<div class="row mt-3">
  <div class="col-8 offset-2">
    <h3>Edit Your Listing</h3>

    <form method="POST" action="/listings/<%= listing._id %>?_method=PUT" novalidate class="needs-validation" enctype="multipart/form-data">
      <div class="mb-3">
        <label for="title" class="form-lable">Title:</label><br>
        <input name="listing[title]" value="<%= listing.title %>" type="text" class="form-control" required />
        <div class="valid-feedback">Title looks good!</div>
      </div>

      <div class="mb-3">
        <label for="description" class="form-lable">Description:</label><br>
        <textarea name="listing[description]" class="form-control" required><%= listing.description %></textarea>
        <div class="invalid-feedback">Please enter a short description!</div>
      </div>

      <div class="mb-3">
        <h6>Original Listing image:</h6>
        <img src="<%=originalImageUrl %>" alt="">
      </div>

      <div class="mb-3">
        <label for="image" class="form-lable">Upload new Image:</label><br>
        <input type="file" name="listing[image]" class="form-control" />
      </div>

      <div class="row">
        <div class="mb-3 col-md-4">
          <label for="price" class="form-lable">Price:</label><br>
          <input name="listing[price]" value="<%= listing.price %>" type="number" class="form-control" required />
          <div class="invalid-feedback">Price should be valid!</div>
        </div>


        <div class="mb-3 col-md-8">
          <label for="country" class="form-lable">Country:</label>
          <input name="listing[country]" value="<%= listing.country %>" type="text" class="form-control" required />
          <div class="invalid-feedback">Country name should be valid!</div>
        </div>
      </div>

      <div class="mb-3">
        <label for="location" class="form-lable">Location:</label><br>
        <input name="listing[location]" value="<%= listing.location %>" type="text" class="form-control" required />
        <div class="invalid-feedback">Location should valid!</div>
      </div>



      <!-- Tags as Checkboxes -->
       <div class="mb-3">
         <label class="form-label">Tags</label>
         <div class="d-flex flex-wrap gap-2">
           <div class="form-check">
             <input class="form-check-input" type="checkbox" name="listing[tags][]" value="brand-new" id="tag-brand-new">
             <label class="form-check-label" for="tag-brand-new">Brand New</label>
           </div>
           <div class="form-check">
             <input class="form-check-input" type="checkbox" name="listing[tags][]" value="trending" id="tag-trending">
             <label class="form-check-label" for="tag-trending">Trending</label>
           </div>
           <div class="form-check">
             <input class="form-check-input" type="checkbox" name="listing[tags][]" value="beach" id="tag-beach">
             <label class="form-check-label" for="tag-beach">Beach</label>
           </div>
           <div class="form-check">
             <input class="form-check-input" type="checkbox" name="listing[tags][]" value="arctic" id="tag-arctic">
             <label class="form-check-label" for="tag-arctic">Arctic</label>
           </div>
           <div class="form-check">
             <input class="form-check-input" type="checkbox" name="listing[tags][]" value="mountain" id="tag-mountain">
             <label class="form-check-label" for="tag-mountain">Mountains</label>
           </div>
           <div class="form-check">
             <input class="form-check-input" type="checkbox" name="listing[tags][]" value="pools" id="tag-pools">
             <label class="form-check-label" for="tag-pools">Amazing Pools</label>
           </div>
           <div class="form-check">
             <input class="form-check-input" type="checkbox" name="listing[tags][]" value="camping" id="tag-camping">
             <label class="form-check-label" for="tag-camping">Camping</label>
           </div>
           <div class="form-check">
             <input class="form-check-input" type="checkbox" name="listing[tags][]" value="tiny-houses" id="tag-tiny-houses">
             <label class="form-check-label" for="tag-tiny-houses">Tiny Houses</label>
           </div>
           <div class="form-check">
             <input class="form-check-input" type="checkbox" name="listing[tags][]" value="luxury-hotels" id="tag-luxury-hotels">
             <label class="form-check-label" for="tag-luxury-hotels">Luxury Hotels</label>
           </div>
         </div>
       </div> 


      <button class="btn btn-dark edit-btn mb-3">Edit</button>
    </form>
  </div>
</div>